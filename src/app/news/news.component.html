<div class="spinner-container" *ngIf="loading">
  <div class="spinner-new rotating"></div>
</div>

<main *ngIf="!loading">
  <div class="container">
    <div class="hero-banner__content">
      <h1>Environmental Assessments in British Columbia</h1>
      <p>Use the list below to navigate to individual Projects. Click on any project to go
        directly to its details page.</p>
    </div>
    <form #f="ngForm" class="search-form ui form" (ngSubmit)="onSubmit()">
      <div class="input-group main-search-field">
        <input class="form-control" type="text" name="keywordInput" placeholder="Enter keywords to search..."
          id="keywordInput" [(ngModel)]="tableParams.keywords" autofocus />
        <div class="input-group-append">
          <!-- prevent searching if input is empty or we're already searching -->
          <button class="btn btn-primary" type="submit">
            <span>Search</span>
          </button>
        </div>
      </div>
      <br>
      <div class="results">
        <p *ngIf="!loading && tableParams.totalListItems == 0">
          No result<span *ngIf="count != 1">s</span> found for "{{tableParams.keywords}}"
        </p>
        <div *ngIf="!loading && tableParams.totalListItems > 0">
          {{tableParams.totalListItems}} result<span *ngIf="tableParams.totalListItems != 1">s found</span>
        </div>
      </div>
    </form>
  </div>

  <section *ngIf="tableParams.totalListItems > 0" class="project-list table-container">
    <div class="container">
      <app-table-template
        [columns]="projectTableColumns"
        [data]="projectTableData"
        (onColumnSort)='setColumnSort($event)'
        (onPageNumUpdate)='getPaginatedProjects($event)'>
      </app-table-template>
    </div>
  </section>
</main>